<!DOCTYPE html>
<html lang="en">
<head>
  <title>Probability Simulator</title>
  <link rel="icon" type="image/x-icon" href="dice.png">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  
  <link rel="stylesheet" href="styles.css">
  
</head>
<body>

<nav class="navbar navbar-inverse">
  <div class="container-fluid" >
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="index.html">
        <div class=frame1 style="height:50px;">
        <span class="helper"></span><img class="logo" src="whitedice.png" height="30" />
        </div>
    </a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar" >
      <ul class="nav navbar-nav">
        <li class="active"><a href="index.html">Home</a></li>
        <li><a href="montyhall.html">Monty Hall Problem </a></li>
        <li><a href="birthday.html">Birthday Problem</a></li>
        <li><a href="letters.html">Scrambled Letters</a></li>
        <li><a href="sandbox.html">sandbox</a></li>
      </ul>
    </div>
  </div>
</nav>
<button class="startbutton" onclick="montyhall()"> Start Monty Hall Simulator</button>
<div id="instruction"></div>

<div class=" row debugred multidooroutline container-fluid">
  
    <div class="col-md-4 doorbox debug">
        <img class = "goatimg" src="goat.png" id="d1" style="width:90%">
        <div class="fade" id="door1">
        <img class = "doorimg " id="doorimg1" src="cardoor.png" style="width:90%">
        <div class="doornum ">1</div>
        </div>
    </div> 
    <div class="col-md-4 doorbox debug">
        
        <img class = "goatimg" src="goat.png" id ="d2" style="width:90%">
        <div class="fade" id="door2">
        <img class = "doorimg" id="doorimg2" src="cardoor.png" style="width:90%">
        <div class="doornum ">2</div>
        </div>
    </div> 
    <div class="col-md-4 doorbox debug">
        <img class = "goatimg" src="goat.png" id="d3" style="width:90%">
        <div class="fade" id="door3">

        <img class = "doorimg" id="doorimg3" src="cardoor.png" style="width:90%">
        <div class="doornum ">3</div>
        </div>
    </div>

</div>
<div class="row">
  <div class="col-sm-4">
  <button type="btn" id="door1btn" value="1"
   class="doorbtn btn-lg btn-primary" onclick="doorchoice(event)">Door 1</button>
  </div>
  <div class="col-sm-6">
    <button type="btn" id="door2btn" value="2"
    onclick="doorchoice(event)" class="doorbtn btn-lg btn-primary">Door 2</button>
  </div>
  <button type="btn" id="door3btn"value ="3" 
  onclick="doorchoice(event)"class="doorbtn btn-lg btn-primary">Door 3</button>
</div>
<div class="row">
  <button type="btn" value="stay" id="staybtn" class="sbtn btn-lg btn-primary" onclick = "schoice(event)">
    Stay
  </button>
  <button type="btn" value="switch" id="switchbtn" class="sbtn btn-lg btn-primary" onclick = "schoice(event)">
    Switch
  </button>
</div>
<div id="testelement"></div>

<!--Create a table that will update-->
<div class="container">
  <table class="table table-striped">
  <thead>
    <td colspan="3" class="text-center">Number of Win Cases for Each Strategy</td>
  </thead>
    <tbody>
    <tr>
      <td>Switch</td>
      <td id="switch#">0</td>
      <td id="switch%">Percent</td>
    </tr>
    <tr>
      <td>Stay</td>
      <td id="stay#">0</td>
      <td id="stay%">Percent</td>
    </tr>
  
    <tr style="font-weight:bold">
      <td >Total</td>
      <td id="total#">0</td>
      <td id="total%">100%</td>
    </tr>
  </tbody>
</table>
</div>



<h1>Build for Birthday</h1>
<div class="container debugred birthdayp debug">
  <div class="row1 birthdayrow ">
    <div class="col-xs-6 birthdaybox ">
        <div class="personbox">
          <img class="bdayboy" src="bdayboy.png" alt="birthdyaboy">
        </div>
    </div>
    <div class="col-xs-6 birthdaybox">
      <div class="personbox">
        <img class="bdayboy" src="bdayboy.png" alt="birthdyaboy">
      </div>
    </div>
  </div>
  <div class="row1 birthdayrow debugred">
    <div class="col-xs-6 birthdaybox debug">
      <div class="personbox">
        <img class="bdayboy" src="bdayboy.png" alt="birthdyaboy">
      </div>
    </div>
    <div class="col-xs-6 birthdaybox">
      <div class="personbox">
        <img class="bdayboy" src="bdayboy.png" alt="birthdyaboy">
      </div>
    </div>
 
  </div>
</div>

<div id="image-map1">
  <img src="venn.png" height="500px" width="500px">
  <div class="pin pin-down" data-xpos="248" data-ypos="140">  
    <h2> This is for A</h2>
  </div>
</div>

<div class="mapbuild debugred container text-center" > 
  <img usemap="#image-map" src="venn.png" height="500px" width="500px">
  <div class="pin pin-down" data-xpos="248" data-ypos="140">  
    <h2> This is for A</h2>
  </div>
  <map name="image-map">
      <area shape="rect"  id="a" coords= "235,125,260,155" href="https://www.wikipedia.org">
      <area shape="rect" id="ab" coords="300,230,325,260" href="https://www.wikipedia.org">
      <area shape="rect" id="ac" coords="175,240, 200,260"  href="https://www.wikipedia.org">
      <area shape="rect" id="abc" coords="240,230,265,250"  href="https://www.wikipedia.org">
      <area shape="rect" id="bc" coords="240,350, 270, 380"  href="https://www.wikipedia.org">
      <area shape="rect" id="c" coords="85,355,120,385"  href="https://www.wikipedia.org">
      <area shape="rect" id="b" coords="365,370,395,395"  href="https://www.wikipedia.org">
   </map>
</div>


<script>
    var switch1 = 0;
    var stay1 = 0;
    var total1 = 0;
    document.getElementById("switch#").innerHTML= switch1;
    document.getElementById("stay#").innerHTML=stay1;
    document.getAnimations("total#").innerHTML=total1;
    document.getElementById("switch%"). innerHTML = "0%";
    document.getElementById("stay%"). innerHTML = "0%"
    
    //document.getElementById("switch%"). innerHTML = (switch1/total1).toFixed(2);
    //document.getElementById("stay%"). innerHTML = (stay1/total1).toFixed(2); 
    function randomIntFromInterval (min,max){
        return Math.floor(Math.random()*(max-min+1) + min)
    }
    function timeouttest(){
      document.getElementById("testelement").innerHTML="this should change after a number of seconds"
    }
    async function placecardoor(cardoor){

    await delay(1000);

    if (cardoor == 1){
            document.getElementById("d1").src="car.png";
        }
        else if (cardoor==2){
            document.getElementById("d2").src="car.png";
        }
        else{
            document.getElementById("d3").src="car.png";
        }

}

    function choosecardoor(cardoor){
        document.getElementById("d1").src="goat.png";
        document.getElementById("d2").src="goat.png";
        document.getElementById("d3").src="goat.png";
        var newtimeout =setTimeout(placecardoor(cardoor), 1000);
    }
    let goatlist = [];
    let doorlist =[];
    let cardoor;
    const doorbtnlist = Array.from(document.getElementsByClassName("doorbtn")
      );
    const sbtnlist = Array.from (document.getElementsByClassName("sbtn"));
    function montyhall(){
      document.getElementById("doorimg1").src = "cardoor.png";
      document.getElementById("doorimg2").src = "cardoor.png";
      document.getElementById("doorimg3").src = "cardoor.png";
      document.getElementById("door1").style.opacity = "100%";
      document.getElementById("door2").style.opacity = "100%";
      document.getElementById("door3").style.opacity = "100%";
      goatlist =[1,2,3];
      doorlist=[1,2,3];
      
      sbtnlist.forEach(button =>{
        button.style.display="none";
      })
      cardoor = randomIntFromInterval(1,3);
      // need to remove chosen car door from potential goat list

      var timingout= setTimeout(choosecardoor(cardoor),1000);
      goatlist.splice(cardoor-1,1);
      document.getElementById("testelement").innerHTML=goatlist;
      doorbtnlist.forEach(button => {
        button.style.display = "block"
      });
      document.getElementById("instruction").innerHTML = "Which door would you like to choose? Click the buttons below for your choice."
    }
    let dchoice;
    function doorchoice(event){
      var x =event.target; 
      document.getElementById("testelement").innerHTML= "The door choice is " + x.value;
      dchoice=x.value;
      if (dchoice == 1){
        document.getElementById("doorimg1").src = "cardoorchosen.png";
      }
      else if (dchoice == 2){
        document.getElementById("doorimg2").src = "cardoorchosen.png";
      }
      else{
        document.getElementById("doorimg3").src = "cardoorchosen.png";
      }
      doorlist.splice(dchoice-1,1)
      doorbtnlist.forEach(button => {
        button.style.display = "none"
      });
      //Implement a code to change the door to one with a star

      if (dchoice == cardoor){
        goatchoice=goatlist[randomIntFromInterval(0,1)]
        for (var i = 0; i < 2; i++){
          if (doorlist[i]==goatchoice){
            doorlist.splice(i,1);
          }
        }
      }
      else{
        for (var i = 0; i < 2; i++){
          if (goatlist[i] == dchoice){
            goatlist.splice(i,1);
          }
        }

        goatchoice = goatlist[0];
        for (var i = 0; i < 2; i++){
          if (doorlist[i] == goatchoice){
            doorlist.splice(i,1);
          }
        }
      }


      sbtnlist.forEach(button => {
        button.style.display ="block"
      })
      if (goatchoice == 1){
        document.getElementById("door1").style.opacity = "0%";
      }
      else if (goatchoice == 2){
        document.getElementById("door2").style.opacity = "0%";
      }
      else{
        document.getElementById("door3").style.opacity = "0%";
      }
      document.getElementById("instruction").innerHTML =
       "Door " + goatchoice + " is a goat. " + 
       "Would you like to STAY with Door " + dchoice +
        " or would you like to SWITCH to Door " + doorlist[0]+ "? "
      // Need to reveal one of the goat doors
      //Need to change the text to ask to switch or stay

      }

  function schoice(event){
    sbtnlist.forEach(button => {
        button.style.display ="none"
      })
    var sschoice = event.target.value; 
      if (sschoice =="stay"){
        if(dchoice==cardoor){
          document.getElementById("instruction").innerHTML = 
          "You win a Car!"
          stay1++;
        }
        else{
          document.getElementById("instruction").innerHTML = 
          "You lost but you can have this goat :("
          switch1++;
        }
        if (dchoice==1){
          document.getElementById("door1").style.opacity = "0%";
        }
        else if (dchoice==2){
          document.getElementById("door2").style.opacity = "0%";
        }
        else{
          document.getElementById("door3").style.opacity = "0%";
        }
      }
    else{
      if(dchoice==cardoor){
        document.getElementById("instruction").innerHTML = 
          "You lost but you can have this goat :("
          stay1++;
        }
      else{
        switch1++;
        document.getElementById("instruction").innerHTML = 
          "You win a Car!"
      }
      if (doorlist[0]==1){
        document.getElementById("door1").style.opacity = "0%";
      }
      else if(doorlist[0]==2){
        document.getElementById("door2").style.opacity = "0%";
      }
      else if (doorlist[0]==3){
        document.getElementById("door3").style.opacity = "0%";
      }
    }
      total1++;
    //Switch or Stay
    // If Stay //unveil door choice
      // inside if stay was correct, have area up top say winner
      // if stay incorrect, change up top to loser
    // If switch, unveil last istem in doorlist
      // if switch correct, change to winner
      // if switch incorrect, change to loser
      document.getElementById("switch#").innerHTML=switch1;
      document.getElementById("stay#").innerHTML=stay1;
      document.getElementById("total#").innerHTML=total1;
      document.getElementById("switch%"). innerHTML = (switch1/total1).toFixed(2)*100 +"%";
      document.getElementById("stay%"). innerHTML = (stay1/total1).toFixed(2)*100 + "%"; 
    }

function delay(milliseconds){
  return new Promise(resolve => {
    setTimeout(resolve,
milliseconds);
    });
}


      
</script>

<script>
  $(document).ready(function(){
 
 // set the image-map width and height to match the img size
 $('#image-map').css({'width':$('#image-map img').width(),
                   'height':$('#image-map img').height()
 })
 
 //tooltip direction
 var tooltipDirection;
              
 for (i=0; i<$(".pin").length; i++)
 {               
     // set tooltip direction type - up or down             
     if ($(".pin").eq(i).hasClass('pin-down')) {
         tooltipDirection = 'tooltip-down';
     } else {
         tooltipDirection = 'tooltip-up';
         }
 
     // append the tooltip
     $("#image-map").append("<div style='left:"+$(".pin").eq(i).data('xpos')+"px;top:"+$(".pin").eq(i).data('ypos')+"px' class='" + tooltipDirection +"'>\
                                         <div class='tooltip'>" + $(".pin").eq(i).html() + "</div>\
                                 </div>");
 }    
 
 // show/hide the tooltip
 $('.tooltip-up, .tooltip-down').mouseenter(function(){
             $(this).children('.tooltip').fadeIn(100);
         }).mouseleave(function(){
             $(this).children('.tooltip').fadeOut(100);
         })
});
</script>