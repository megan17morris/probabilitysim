<!DOCTYPE html>
<html lang="en">
<head>
  <title>Monty Hall</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="../styles1.css">
  <script src="https://kit.fontawesome.com/7e394594e8.js" crossorigin="anonymous"></script>
  
</head>
<body>
  <nav class="sticky-top navbar navbar-expand-lg bg-light ">
    <div class ="container-fluid">
      <!--Check about navbar brand-->
      <a class="navbar-brand" href="#"><img src="../pic/dice.png" height="40px"></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" 
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <!-- Links -->
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="../index.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="#">Monty Hall</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="birthday2.html">Birthday Problem </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="letters2.html">Scrambled Letters</a>
        </li>
      </ul>
    </div>
    </div>
  </nav>
  <!--Side Bar.
  I want the sidebar to be collapsable with only a person icon. When clicked a 
  page will come out that will tell about me. -->
  
  <div id="allcontent">
    <div id="mySidebar" class="sidebar">
      <h3 class="sidecontent">Megan Morris</h3>
      <img id="authorpic" src="../pic/Headshot1.jpg" alt="A picture of Megan" width = "150" height="auto">
      <div class="sidetext">
      <p> Hello! I'm Megan, and this probability simulator is my final project
        for CS50. 
      </p>
      <p>
        I graduated with my Bachelor's degree in Applied Mathematics and French from
        UC Berkeley and I am currently using my free time to teach myself programming
        and computer science. 
       </p>
       <p>
        I am passionate about learning and I am always looking for new collaborations
        and projects to work on to keep developing my programming skills!
       </p>
    </div>
    <div class="row row-cols-auto justify-content-center">
     <div class=""><a class= "iconbox  " href="https://github.com/magenta1585"> <img class=  "icon" src="../pic/github-mark-white.png" alt="githublogo" width="30 px" height="30px"> </a> </div>
     <div class=""><a class="iconbox "  href= "https://www.linkedin.com/in/megan-morris-7aa4711a3/" ><img class= "icon" src="../pic/In-White.png" alt="LinkedIn logo" width="30 px" height="30px"> </a></div>
     <div class=""><a class= "iconbox " href= "../csresume23.pdf"> <i class=" icon fa-solid fa-file fa-2xl"></i> </a></div>
    </div>
  </div> 
    
  
  <div id="main" class="main">
    <button id ="openbtn1" class="openbtn"  value = "0" onclick="OCNav()"><i class="fa-solid fa-user"></i> &nbsp About Me</button>  
    <div class="content">
    <h2 class="text-center"> Monty Hall</h2>

    <div id="problemwalkthrough" class="text-center ">
      <p id="problemintro">
      Hello! Welcome to the Monty Hall Problem! 
    </p>
    <p id="stepsexplainer">Behind two of these doors there are goats. Behind one of the doors, there is a car.
      During this demonstration, you will be able to first select one of the three doors. Once you have chosen,
      one of the doors that you did not choose will be lifted. You must choose to either stay with your original choice 
      or switch to the door that you did not pick. 
      <br><br>
      <strong> What will you pick?</strong>
    </p>

    </div>
    <div class="multidooroutline">
    
        <div class="row container-fluid doorcontain ">
          <div class="doorline  col-4">
           <div class="imgoutline center ">
            <img class="goatimg center" src="../pic/goat.png"  width="100%" height="auto">
            <div class="dooroverlay ">
            <img class = "cardoor " id="doorimg1" src="../pic/cardoor1.png" style="width:100%">
            <div class="doornum ">1</div>
          </div>
            </div>
          </div>

          <div class="doorline col-4">
            <div class="imgoutline center ">
            <img class="goatimg center" src="../pic/goat.png"  width="100%" height="auto">
            <div class="dooroverlay ">
            <img class = "cardoor " id="doorimg2" src="../pic/cardoor1.png" style="width:100%">
            <div class="doornum ">2</div>
          </div>
            </div>
          </div>
          <div class="doorline col-4">
            <div class="imgoutline center ">
             <img class="goatimg center" src="../pic/goat.png"  width="100%" height="auto">
             <div class="dooroverlay ">
             <img class = "cardoor " id="doorimg3" src="../pic/cardoor1.png" style="width:100%">
             <div class="doornum ">3</div>
           </div>
             </div>
           </div>
      <div class="row button-row  ">
        <div id="startbuttonrow" class="text-center buttonsrow">
          <button id="startbutton" type="button" class=" btn btn-success buttons">Start</button>
        </div>
        <div id="selectrow" class="buttonsrow debug ">
          <button id="door1btn" type="button" value ="1" class="btn btn-dark  buttons">Door 1</button>
          <button id="door2btn" type="button" value ="2" class="btn btn-dark  buttons">Door 2</button>
          <button id="door3btn" type="button" value ="3" class=" btn btn-dark  buttons">Door 3</button>
        </div>
        <div id="stayswitchrow" class=" text-center buttonsrow">
          <button id="switchbtn" type="button" class=" btn btn-dark  buttons">Switch to Door <span id="switchspan">#</span></button>
          <button id="staybtn" type="button" class=" btn btn-dark  buttons">Stay with Door <span id="stayspan">#</span></button>  
        </div>
        <div id="restartrow" class=" text-center buttonsrow">
          <button id="restartbtn" type="button" class=" btn btn-success  buttons">Restart</button>
            
        </div>

      </div>
      </div>

      
  </div>
  </div>
</div>
  
  <script>
    function openNav() {
      // maybe try to turn it into one function //
      document.getElementById("mySidebar").style.width = "250px";
      document.getElementById("main").style.marginLeft = "250px";
      
    }
    
    function closeNav() {
      document.getElementById("mySidebar").style.width = "0";
      document.getElementById("main").style.marginLeft= "0";
    }
  
    //Set openbtn value to 0 to begin with. Function should check value, then if 0 execute open, if 1, execute close
  
    function OCNav(){
      if (document.getElementById("openbtn1").value == 0){
        openNav()
        document.getElementById("openbtn1").value = 1
      }
      else(
        closeNav(), document.getElementById("openbtn1").value = 0
      )
      return
    }


    
    </script>
    <script>
      var switch1 = 0;
      var stay1 = 0;
      var total1 = 0;
      document.getElementById("switch#").innerHTML= switch1;
      document.getElementById("stay#").innerHTML=stay1;
      document.getAnimations("total#").innerHTML=total1;
      document.getElementById("switch%"). innerHTML = "0%";
      document.getElementById("stay%"). innerHTML = "0%"
      
      //document.getElementById("switch%"). innerHTML = (switch1/total1).toFixed(2);
      //document.getElementById("stay%"). innerHTML = (stay1/total1).toFixed(2); 
      function randomIntFromInterval (min,max){
          return Math.floor(Math.random()*(max-min+1) + min)
      }
      function timeouttest(){
        document.getElementById("testelement").innerHTML="this should change after a number of seconds"
      }
      async function placecardoor(cardoor){
  
      await delay(1000);
  
      if (cardoor == 1){
              document.getElementById("d1").src="../pic/car.png";
          }
          else if (cardoor==2){
              document.getElementById("d2").src="../pic/car.png";
          }
          else{
              document.getElementById("d3").src="../pic/car.png";
          }
  
  }
  
      function choosecardoor(cardoor){
          document.getElementById("d1").src="../pic/goat.png";
          document.getElementById("d2").src="../pic/goat.png";
          document.getElementById("d3").src="../pic/goat.png";
          var newtimeout =setTimeout(placecardoor(cardoor), 1000);
      }
      let goatlist = [];
      let doorlist =[];
      let cardoor;
      const doorbtnlist = Array.from(document.getElementsByClassName("doorbtn")
        );
      const sbtnlist = Array.from (document.getElementsByClassName("sbtn"));
      function montyhall(){
        document.getElementById("doorimg1").src = "../pic/cardoor.png";
        document.getElementById("doorimg2").src = "../pic/cardoor.png";
        document.getElementById("doorimg3").src = "../pic/cardoor.png";
        document.getElementById("door1").style.opacity = "100%";
        document.getElementById("door2").style.opacity = "100%";
        document.getElementById("door3").style.opacity = "100%";
        goatlist =[1,2,3];
        doorlist=[1,2,3];
        
        sbtnlist.forEach(button =>{
          button.style.display="none";
        })
        cardoor = randomIntFromInterval(1,3);
        // need to remove chosen car door from potential goat list
  
        var timingout= setTimeout(choosecardoor(cardoor),1000);
        goatlist.splice(cardoor-1,1);
        document.getElementById("testelement").innerHTML=goatlist;
        doorbtnlist.forEach(button => {
          button.style.display = "block"
        });
        document.getElementById("instruction").innerHTML = "Which door would you like to choose? Click the buttons below for your choice."
      }
      let dchoice;
      function doorchoice(event){
        var x =event.target; 
        document.getElementById("testelement").innerHTML= "The door choice is " + x.value;
        dchoice=x.value;
        if (dchoice == 1){
          document.getElementById("doorimg1").src = "../pic/cardoorchosen.png";
        }
        else if (dchoice == 2){
          document.getElementById("doorimg2").src = "../pic/cardoorchosen.png";
        }
        else{
          document.getElementById("doorimg3").src = "../pic/cardoorchosen.png";
        }
        doorlist.splice(dchoice-1,1)
        doorbtnlist.forEach(button => {
          button.style.display = "none"
        });
        //Implement a code to change the door to one with a star
  
        if (dchoice == cardoor){
          goatchoice=goatlist[randomIntFromInterval(0,1)]
          for (var i = 0; i < 2; i++){
            if (doorlist[i]==goatchoice){
              doorlist.splice(i,1);
            }
          }
        }
        else{
          for (var i = 0; i < 2; i++){
            if (goatlist[i] == dchoice){
              goatlist.splice(i,1);
            }
          }
  
          goatchoice = goatlist[0];
          for (var i = 0; i < 2; i++){
            if (doorlist[i] == goatchoice){
              doorlist.splice(i,1);
            }
          }
        }
  
  
        sbtnlist.forEach(button => {
          button.style.display ="block"
        })
        if (goatchoice == 1){
          document.getElementById("door1").style.opacity = "0%";
        }
        else if (goatchoice == 2){
          document.getElementById("door2").style.opacity = "0%";
        }
        else{
          document.getElementById("door3").style.opacity = "0%";
        }
        document.getElementById("instruction").innerHTML =
         "Door " + goatchoice + " is a goat. " + 
         "Would you like to STAY with Door " + dchoice +
          " or would you like to SWITCH to Door " + doorlist[0]+ "? "
        // Need to reveal one of the goat doors
        //Need to change the text to ask to switch or stay
  
        }
  
    function schoice(event){
      sbtnlist.forEach(button => {
          button.style.display ="none"
        })
      var sschoice = event.target.value; 
        if (sschoice =="stay"){
          if(dchoice==cardoor){
            document.getElementById("instruction").innerHTML = 
            "You win a Car!"
            stay1++;
          }
          else{
            document.getElementById("instruction").innerHTML = 
            "You lost but you can have this goat :("
            switch1++;
          }
          if (dchoice==1){
            document.getElementById("door1").style.opacity = "0%";
          }
          else if (dchoice==2){
            document.getElementById("door2").style.opacity = "0%";
          }
          else{
            document.getElementById("door3").style.opacity = "0%";
          }
        }
      else{
        if(dchoice==cardoor){
          document.getElementById("instruction").innerHTML = 
            "You lost but you can have this goat :("
            stay1++;
          }
        else{
          switch1++;
          document.getElementById("instruction").innerHTML = 
            "You win a Car!"
        }
        if (doorlist[0]==1){
          document.getElementById("door1").style.opacity = "0%";
        }
        else if(doorlist[0]==2){
          document.getElementById("door2").style.opacity = "0%";
        }
        else if (doorlist[0]==3){
          document.getElementById("door3").style.opacity = "0%";
        }
      }
        total1++;
      //Switch or Stay
      // If Stay //unveil door choice
        // inside if stay was correct, have area up top say winner
        // if stay incorrect, change up top to loser
      // If switch, unveil last istem in doorlist
        // if switch correct, change to winner
        // if switch incorrect, change to loser
        document.getElementById("switch#").innerHTML=switch1;
        document.getElementById("stay#").innerHTML=stay1;
        document.getElementById("total#").innerHTML=total1;
        document.getElementById("switch%"). innerHTML = (switch1/total1).toFixed(2)*100 +"%";
        document.getElementById("stay%"). innerHTML = (stay1/total1).toFixed(2)*100 + "%"; 
      }
  
  function delay(milliseconds){
    return new Promise(resolve => {
      setTimeout(resolve,
  milliseconds);
      });
  }
  
  </script>
       
  

</body>
</html>